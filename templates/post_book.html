<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Post a Book | PageStream</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <!-- Header Section -->
    <div class="header">
        <a href="{{ url_for('home_page') }}">
            <img src="{{ url_for('static', filename='logo.png') }}" alt="PageStream Logo" class="logo">
        </a>
    </div>
    
    <!-- Navigation Bar -->
    <div class="navbar">
        <div class="navbar-welcome">
            <i class="fas fa-book"></i> Post a New Book
        </div>
        <div class="navbar-actions">
            <a href="{{ url_for('dashboard') }}"><i class="fas fa-user"></i> Dashboard</a>
            <a href="{{ url_for('view_books') }}" class="books"><i class="fas fa-books"></i> All Books</a>
            <a href="{{ url_for('logout') }}" class="logout"><i class="fas fa-sign-out-alt"></i> Logout</a>
        </div>
    </div>

    <!-- Main Content -->
    <div class="container">
        <!-- Flash Messages -->
        {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
                {% for category, message in messages %}
                    <div class="flash-message {{ category }}">{{ message }}</div>
                {% endfor %}
            {% endif %}
        {% endwith %}

        <!-- Form Container -->
        <div class="form-container">
            <h2>Post a Book</h2>
            <form method="POST" enctype="multipart/form-data" class="form">
                <!-- Title Input -->
                <div class="form-group">
                    <label for="title">Title</label>
                    <input type="text" id="title" name="title" required>
                </div>
                
                <!-- Author Input -->
                <div class="form-group">
                    <label for="author">Author</label>
                    <input type="text" id="author" name="author" required>
                </div>
                
                <!-- Description Textarea -->
                <div class="form-group">
                    <label for="description">Description</label>
                    <textarea id="description" name="description" required></textarea>
                </div>

                <!-- Price Input -->
                <div class="form-group">
                    <label for="price">Price ($)</label>
                    <input type="number" id="price" name="price" min="0.99" step="0.01" value="9.99" required>
                    <small style="color: #757575;">Set your book price (minimum $0.99)</small>
                </div>
                
                <!-- Genre Input -->
                <div class="form-group">
                    <label for="genre">Genre</label>
                    <select id="genre" name="genre" required>
                        <option value="" disabled selected>Select a genre</option>
                        <option value="Fiction">Fiction</option>
                        <option value="Non-Fiction">Non-Fiction</option>
                        <option value="Science Fiction">Science Fiction</option>
                        <option value="Fantasy">Fantasy</option>
                        <option value="Mystery">Mystery</option>
                        <option value="Thriller">Thriller</option>
                        <option value="Romance">Romance</option>
                        <option value="Biography">Biography</option>
                        <option value="History">History</option>
                        <option value="Self-Help">Self-Help</option>
                        <option value="Business">Business</option>
                        <option value="Other">Other</option>
                    </select>
                </div>
                
                <!-- Book File Input -->
                <div class="form-group">
                    <label for="book_file">Upload Book File</label>
                    <div class="file-input-container">
                        <input type="file" id="book_file" name="book_file" class="file-input" accept=".pdf,application/pdf">
                    </div>
                    <small style="color: #757575;">Supported formats: PDF, EPUB, MOBI</small>
                </div>
                
                <!-- Image File Input -->
                <div class="form-group">
                    <label for="image_file">Upload Cover Image</label>
                    <div class="file-input-container">
                        <input type="file" id="image_file" name="image_file" class="file-input" accept="image/*">
                    </div>
                    <small style="color: #757575;">Recommended size: 500x750px. Max 2MB.</small>
                </div>
                
                <!-- Submit Button -->
                <button type="submit" class="btn btn-primary btn-large">
                    <i class="fas fa-upload"></i> Post Book
                </button>
            </form>
            
            <!-- Back to Dashboard Link -->
            <div style="text-align: center; margin-top: 1.5rem;">
                <a href="{{ url_for('dashboard') }}" class="back-link">
                    <i class="fas fa-arrow-left"></i> Back to Dashboard
                </a>
            </div>
        </div>
    </div>
    
    <!-- Simple Footer -->
    <footer style="text-align: center; padding: 1rem; margin-top: 3rem; background: rgba(141, 110, 99, 0.1); color: #8d6e63;">
        <p>&copy; 2025 PageStream - Share Your Books With The World</p>
    </footer>
</body>
</html>